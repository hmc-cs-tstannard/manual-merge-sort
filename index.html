<!DOCTYPE html>
<html lang="en">

  <body id="page-top">
    <p> manual merge sort </p>
    <p id='show_list'> list? </p>
    <p id="demo"></p>

    <p>
      flist: <input type="text" id="flist" size="200" name="flist"><br>
    </p>

    <button onclick="sort()">start sorting</button>
  </body>

</html>

<script>
function sort(){
  var flist =  document.getElementById("flist").value.split(",");
  // var done = mergesort([flist]);
  console.log(flist);

  mergesort(flist);
}

function merge(leftArr, rightArr) {
  var sortedArr = [];
  while (leftArr.length && rightArr.length) {
    var r = confirm("Cancel(flase) "+ rightArr[0].toString() + " okay(true): " + leftArr[0].toString() );
    // var btn1 = document.createElement('right');
    // var t1 = document.createTextNode(rightArr[0].toString());
    // btn1.appendChild(t1);
    // var btn2 = document.createElement(leftArr[0].toString());
    // var t2 = document.createTextNode(leftArr[0].toString());
    // btn2.appendChild(t2);
    // document.body.appendChild(btn1);
    // document.body.appendChild(btn2);

    
    if (r == true) {//(leftArr[0] <= rightArr[0]) {
      sortedArr.push(leftArr[0]);
      leftArr = leftArr.slice(1)
   } else {
      sortedArr.push(rightArr[0]);
      rightArr = rightArr.slice(1)
     }
   }
  while (leftArr.length)
    sortedArr.push(leftArr.shift());
  while (rightArr.length)
    sortedArr.push(rightArr.shift());
  console.log(sortedArr);
  return sortedArr;
}

function mergesort(arr) {
  if (arr.length < 2) {
    return arr; }
  else {
    var midpoint = parseInt(arr.length / 2);
    var leftArr   = arr.slice(0, midpoint);
    var rightArr  = arr.slice(midpoint, arr.length);
    return merge(mergesort(leftArr), mergesort(rightArr));
  }
}

</script>
